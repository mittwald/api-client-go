package aihostingclientv2

// This code was automatically generated by github.com/mittwald/api-client-go-builder.
// DO NOT EDIT.

import (
	"context"
	"encoding/json"
	"net/http"

	"github.com/mittwald/api-client-go/mittwaldv2/generated/schemas/aihostingv2"
	"github.com/mittwald/api-client-go/pkg/httpclient"
	"github.com/mittwald/api-client-go/pkg/httperr"
)

type Client interface {
	AiHostingCustomerGetKeys(
		ctx context.Context,
		req AiHostingCustomerGetKeysRequest,
		reqEditors ...func(req *http.Request) error,
	) (*[]aihostingv2.Key, *http.Response, error)
	AiHostingCustomerCreateKey(
		ctx context.Context,
		req AiHostingCustomerCreateKeyRequest,
		reqEditors ...func(req *http.Request) error,
	) (*aihostingv2.Key, *http.Response, error)
	AiHostingCustomerGetKey(
		ctx context.Context,
		req AiHostingCustomerGetKeyRequest,
		reqEditors ...func(req *http.Request) error,
	) (*aihostingv2.Key, *http.Response, error)
	AiHostingCustomerUpdateKey(
		ctx context.Context,
		req AiHostingCustomerUpdateKeyRequest,
		reqEditors ...func(req *http.Request) error,
	) (*aihostingv2.Key, *http.Response, error)
	AiHostingCustomerDeleteKey(
		ctx context.Context,
		req AiHostingCustomerDeleteKeyRequest,
		reqEditors ...func(req *http.Request) error,
	) (*http.Response, error)
	AiHostingCustomerGetUsage(
		ctx context.Context,
		req AiHostingCustomerGetUsageRequest,
		reqEditors ...func(req *http.Request) error,
	) (*aihostingv2.TariffOptions, *http.Response, error)
	AiHostingGetModels(
		ctx context.Context,
		req AiHostingGetModelsRequest,
		reqEditors ...func(req *http.Request) error,
	) (*[]aihostingv2.Model, *http.Response, error)
	AiHostingProjectGetKeys(
		ctx context.Context,
		req AiHostingProjectGetKeysRequest,
		reqEditors ...func(req *http.Request) error,
	) (*[]aihostingv2.Key, *http.Response, error)
	AiHostingProjectCreateKey(
		ctx context.Context,
		req AiHostingProjectCreateKeyRequest,
		reqEditors ...func(req *http.Request) error,
	) (*aihostingv2.Key, *http.Response, error)
	AiHostingProjectGetKey(
		ctx context.Context,
		req AiHostingProjectGetKeyRequest,
		reqEditors ...func(req *http.Request) error,
	) (*aihostingv2.Key, *http.Response, error)
	AiHostingProjectUpdateKey(
		ctx context.Context,
		req AiHostingProjectUpdateKeyRequest,
		reqEditors ...func(req *http.Request) error,
	) (*aihostingv2.Key, *http.Response, error)
	AiHostingProjectDeleteKey(
		ctx context.Context,
		req AiHostingProjectDeleteKeyRequest,
		reqEditors ...func(req *http.Request) error,
	) (*http.Response, error)
	AiHostingProjectGetUsage(
		ctx context.Context,
		req AiHostingProjectGetUsageRequest,
		reqEditors ...func(req *http.Request) error,
	) (*AiHostingProjectGetUsageResponse, *http.Response, error)
}
type clientImpl struct {
	client httpclient.RequestRunner
}

func NewClient(client httpclient.RequestRunner) Client {
	return &clientImpl{client: client}
}

// Get a list of already created keys.
func (c *clientImpl) AiHostingCustomerGetKeys(
	ctx context.Context,
	req AiHostingCustomerGetKeysRequest,
	reqEditors ...func(req *http.Request) error,
) (*[]aihostingv2.Key, *http.Response, error) {
	httpReq, err := req.BuildRequest(reqEditors...)
	if err != nil {
		return nil, nil, err
	}

	httpRes, err := c.client.Do(httpReq.WithContext(ctx))
	if err != nil {
		return nil, httpRes, err
	}

	if httpRes.StatusCode >= 400 {
		err := httperr.ErrFromResponse(httpRes)
		return nil, httpRes, err
	}

	var response []aihostingv2.Key
	if err := json.NewDecoder(httpRes.Body).Decode(&response); err != nil {
		return nil, httpRes, err
	}
	return &response, httpRes, nil
}

// Creates a new key.
//
// Creates a new key. Can be linked with a project to directly create web-ui container.
func (c *clientImpl) AiHostingCustomerCreateKey(
	ctx context.Context,
	req AiHostingCustomerCreateKeyRequest,
	reqEditors ...func(req *http.Request) error,
) (*aihostingv2.Key, *http.Response, error) {
	httpReq, err := req.BuildRequest(reqEditors...)
	if err != nil {
		return nil, nil, err
	}

	httpRes, err := c.client.Do(httpReq.WithContext(ctx))
	if err != nil {
		return nil, httpRes, err
	}

	if httpRes.StatusCode >= 400 {
		err := httperr.ErrFromResponse(httpRes)
		return nil, httpRes, err
	}

	var response aihostingv2.Key
	if err := json.NewDecoder(httpRes.Body).Decode(&response); err != nil {
		return nil, httpRes, err
	}
	return &response, httpRes, nil
}

// Get a key of a customer.
func (c *clientImpl) AiHostingCustomerGetKey(
	ctx context.Context,
	req AiHostingCustomerGetKeyRequest,
	reqEditors ...func(req *http.Request) error,
) (*aihostingv2.Key, *http.Response, error) {
	httpReq, err := req.BuildRequest(reqEditors...)
	if err != nil {
		return nil, nil, err
	}

	httpRes, err := c.client.Do(httpReq.WithContext(ctx))
	if err != nil {
		return nil, httpRes, err
	}

	if httpRes.StatusCode >= 400 {
		err := httperr.ErrFromResponse(httpRes)
		return nil, httpRes, err
	}

	var response aihostingv2.Key
	if err := json.NewDecoder(httpRes.Body).Decode(&response); err != nil {
		return nil, httpRes, err
	}
	return &response, httpRes, nil
}

// Update a key for a customer.
func (c *clientImpl) AiHostingCustomerUpdateKey(
	ctx context.Context,
	req AiHostingCustomerUpdateKeyRequest,
	reqEditors ...func(req *http.Request) error,
) (*aihostingv2.Key, *http.Response, error) {
	httpReq, err := req.BuildRequest(reqEditors...)
	if err != nil {
		return nil, nil, err
	}

	httpRes, err := c.client.Do(httpReq.WithContext(ctx))
	if err != nil {
		return nil, httpRes, err
	}

	if httpRes.StatusCode >= 400 {
		err := httperr.ErrFromResponse(httpRes)
		return nil, httpRes, err
	}

	var response aihostingv2.Key
	if err := json.NewDecoder(httpRes.Body).Decode(&response); err != nil {
		return nil, httpRes, err
	}
	return &response, httpRes, nil
}

// Delete a key for a customer.
func (c *clientImpl) AiHostingCustomerDeleteKey(
	ctx context.Context,
	req AiHostingCustomerDeleteKeyRequest,
	reqEditors ...func(req *http.Request) error,
) (*http.Response, error) {
	httpReq, err := req.BuildRequest(reqEditors...)
	if err != nil {
		return nil, err
	}

	httpRes, err := c.client.Do(httpReq.WithContext(ctx))
	if err != nil {
		return httpRes, err
	}

	if httpRes.StatusCode >= 400 {
		err := httperr.ErrFromResponse(httpRes)
		return httpRes, err
	}

	return httpRes, nil
}

// Get ai hosting tariff and usages of a customer.
func (c *clientImpl) AiHostingCustomerGetUsage(
	ctx context.Context,
	req AiHostingCustomerGetUsageRequest,
	reqEditors ...func(req *http.Request) error,
) (*aihostingv2.TariffOptions, *http.Response, error) {
	httpReq, err := req.BuildRequest(reqEditors...)
	if err != nil {
		return nil, nil, err
	}

	httpRes, err := c.client.Do(httpReq.WithContext(ctx))
	if err != nil {
		return nil, httpRes, err
	}

	if httpRes.StatusCode >= 400 {
		err := httperr.ErrFromResponse(httpRes)
		return nil, httpRes, err
	}

	var response aihostingv2.TariffOptions
	if err := json.NewDecoder(httpRes.Body).Decode(&response); err != nil {
		return nil, httpRes, err
	}
	return &response, httpRes, nil
}

// Get a list of currently active models.
func (c *clientImpl) AiHostingGetModels(
	ctx context.Context,
	req AiHostingGetModelsRequest,
	reqEditors ...func(req *http.Request) error,
) (*[]aihostingv2.Model, *http.Response, error) {
	httpReq, err := req.BuildRequest(reqEditors...)
	if err != nil {
		return nil, nil, err
	}

	httpRes, err := c.client.Do(httpReq.WithContext(ctx))
	if err != nil {
		return nil, httpRes, err
	}

	if httpRes.StatusCode >= 400 {
		err := httperr.ErrFromResponse(httpRes)
		return nil, httpRes, err
	}

	var response []aihostingv2.Model
	if err := json.NewDecoder(httpRes.Body).Decode(&response); err != nil {
		return nil, httpRes, err
	}
	return &response, httpRes, nil
}

// Get a list of keys of a project.
func (c *clientImpl) AiHostingProjectGetKeys(
	ctx context.Context,
	req AiHostingProjectGetKeysRequest,
	reqEditors ...func(req *http.Request) error,
) (*[]aihostingv2.Key, *http.Response, error) {
	httpReq, err := req.BuildRequest(reqEditors...)
	if err != nil {
		return nil, nil, err
	}

	httpRes, err := c.client.Do(httpReq.WithContext(ctx))
	if err != nil {
		return nil, httpRes, err
	}

	if httpRes.StatusCode >= 400 {
		err := httperr.ErrFromResponse(httpRes)
		return nil, httpRes, err
	}

	var response []aihostingv2.Key
	if err := json.NewDecoder(httpRes.Body).Decode(&response); err != nil {
		return nil, httpRes, err
	}
	return &response, httpRes, nil
}

// Creates a new key for a project.
//
// Creates a new key for a project. Same as the customer route but with required projectId. And project users can create it.
func (c *clientImpl) AiHostingProjectCreateKey(
	ctx context.Context,
	req AiHostingProjectCreateKeyRequest,
	reqEditors ...func(req *http.Request) error,
) (*aihostingv2.Key, *http.Response, error) {
	httpReq, err := req.BuildRequest(reqEditors...)
	if err != nil {
		return nil, nil, err
	}

	httpRes, err := c.client.Do(httpReq.WithContext(ctx))
	if err != nil {
		return nil, httpRes, err
	}

	if httpRes.StatusCode >= 400 {
		err := httperr.ErrFromResponse(httpRes)
		return nil, httpRes, err
	}

	var response aihostingv2.Key
	if err := json.NewDecoder(httpRes.Body).Decode(&response); err != nil {
		return nil, httpRes, err
	}
	return &response, httpRes, nil
}

// Get a key of a project.
func (c *clientImpl) AiHostingProjectGetKey(
	ctx context.Context,
	req AiHostingProjectGetKeyRequest,
	reqEditors ...func(req *http.Request) error,
) (*aihostingv2.Key, *http.Response, error) {
	httpReq, err := req.BuildRequest(reqEditors...)
	if err != nil {
		return nil, nil, err
	}

	httpRes, err := c.client.Do(httpReq.WithContext(ctx))
	if err != nil {
		return nil, httpRes, err
	}

	if httpRes.StatusCode >= 400 {
		err := httperr.ErrFromResponse(httpRes)
		return nil, httpRes, err
	}

	var response aihostingv2.Key
	if err := json.NewDecoder(httpRes.Body).Decode(&response); err != nil {
		return nil, httpRes, err
	}
	return &response, httpRes, nil
}

// Update a key for a project.
func (c *clientImpl) AiHostingProjectUpdateKey(
	ctx context.Context,
	req AiHostingProjectUpdateKeyRequest,
	reqEditors ...func(req *http.Request) error,
) (*aihostingv2.Key, *http.Response, error) {
	httpReq, err := req.BuildRequest(reqEditors...)
	if err != nil {
		return nil, nil, err
	}

	httpRes, err := c.client.Do(httpReq.WithContext(ctx))
	if err != nil {
		return nil, httpRes, err
	}

	if httpRes.StatusCode >= 400 {
		err := httperr.ErrFromResponse(httpRes)
		return nil, httpRes, err
	}

	var response aihostingv2.Key
	if err := json.NewDecoder(httpRes.Body).Decode(&response); err != nil {
		return nil, httpRes, err
	}
	return &response, httpRes, nil
}

// Delete a key for a project.
func (c *clientImpl) AiHostingProjectDeleteKey(
	ctx context.Context,
	req AiHostingProjectDeleteKeyRequest,
	reqEditors ...func(req *http.Request) error,
) (*http.Response, error) {
	httpReq, err := req.BuildRequest(reqEditors...)
	if err != nil {
		return nil, err
	}

	httpRes, err := c.client.Do(httpReq.WithContext(ctx))
	if err != nil {
		return httpRes, err
	}

	if httpRes.StatusCode >= 400 {
		err := httperr.ErrFromResponse(httpRes)
		return httpRes, err
	}

	return httpRes, nil
}

// Get ai hosting tariff and usages of a project. Same as the customer route, but less details.
func (c *clientImpl) AiHostingProjectGetUsage(
	ctx context.Context,
	req AiHostingProjectGetUsageRequest,
	reqEditors ...func(req *http.Request) error,
) (*AiHostingProjectGetUsageResponse, *http.Response, error) {
	httpReq, err := req.BuildRequest(reqEditors...)
	if err != nil {
		return nil, nil, err
	}

	httpRes, err := c.client.Do(httpReq.WithContext(ctx))
	if err != nil {
		return nil, httpRes, err
	}

	if httpRes.StatusCode >= 400 {
		err := httperr.ErrFromResponse(httpRes)
		return nil, httpRes, err
	}

	var response AiHostingProjectGetUsageResponse
	if err := json.NewDecoder(httpRes.Body).Decode(&response); err != nil {
		return nil, httpRes, err
	}
	return &response, httpRes, nil
}
